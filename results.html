<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Human Design Results</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        .results-page {
            background: var(--bg-primary);
            padding: 40px 20px;
        }

        .results-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .results-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .results-header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .results-header p {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin: 30px 0;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .design-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .design-card h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .design-basics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .design-item {
            text-align: center;
        }

        .design-item-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .design-item-value {
            font-size: 2rem;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .design-item-desc {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .comparison-section {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .comparison-section h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 30px;
        }

        .comparison-side h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .comparison-side.conditioned h3 {
            color: #ff6b6b;
        }

        .comparison-side.authentic h3 {
            color: #51cf66;
        }

        .comparison-list {
            list-style: none;
            padding: 0;
        }

        .comparison-list li {
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 1rem;
        }

        .comparison-list li:last-child {
            border-bottom: none;
        }

        .gap-insight {
            background: rgba(255, 215, 0, 0.1);
            border-left: 4px solid #ffd700;
            padding: 25px;
            margin-top: 30px;
            border-radius: 4px;
        }

        .gap-insight h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #ffd700;
        }

        .gap-insight p {
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .testimonials-section {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .testimonials-section h2 {
            font-size: 1.8rem;
            margin-bottom: 40px;
            text-align: center;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .testimonial {
            background: rgba(255, 215, 0, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 25px;
        }

        .testimonial-stars {
            color: #ffd700;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .testimonial-text {
            font-style: italic;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .testimonial-author {
            font-weight: 600;
            color: var(--text-secondary);
        }

        .report-preview {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .report-preview h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .preview-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .preview-item {
            display: flex;
            gap: 15px;
            padding: 20px;
            background: rgba(255, 215, 0, 0.05);
            border-radius: 8px;
        }

        .preview-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .preview-content h3 {
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .preview-content p {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .cta-section {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 165, 0, 0.15));
            border: 2px solid #ffd700;
            border-radius: 12px;
            padding: 50px 40px;
            text-align: center;
        }

        .cta-section h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
        }

        .cta-section .subtitle {
            font-size: 1.15rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .price-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .price {
            font-size: 3.5rem;
            font-weight: 700;
            color: #ffd700;
        }

        .price-old {
            font-size: 2rem;
            text-decoration: line-through;
            color: var(--text-muted);
        }

        .savings-badge {
            background: #51cf66;
            color: #000;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .cta-section ul {
            text-align: left;
            max-width: 550px;
            margin: 35px auto;
            list-style: none;
            padding: 0;
            columns: 2;
            column-gap: 30px;
        }

        .cta-section ul li {
            padding: 10px 0;
            font-size: 1.05rem;
            break-inside: avoid;
        }

        .cta-section ul li::before {
            content: "✓ ";
            color: #51cf66;
            font-weight: bold;
            margin-right: 8px;
        }

        .btn-massive {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700, #ffa500);
            color: #000;
            font-size: 1.6rem;
            font-weight: 700;
            padding: 28px 70px;
            border-radius: 50px;
            text-decoration: none;
            transition: all 0.3s;
            margin-top: 20px;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .btn-massive:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(255, 215, 0, 0.5);
        }

        .guarantee {
            margin-top: 30px;
            padding: 25px;
            background: rgba(81, 207, 102, 0.1);
            border: 1px solid #51cf66;
            border-radius: 8px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .guarantee-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #51cf66;
            margin-bottom: 10px;
        }

        .guarantee-text {
            font-size: 1rem;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .design-basics {
                grid-template-columns: 1fr;
            }

            .cta-section ul {
                columns: 1;
            }

            .btn-massive {
                padding: 22px 50px;
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">HUMANDESIGN</a>
            <ul class="nav-menu">
                <li><a href="quiz.html" class="nav-link cta-button">BEGIN TEST</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content results-page">
        <div class="results-container">
            <!-- Header -->
            <div class="results-header">
                <h1>Your Human Design</h1>
                <p>Based on your birth data: <span id="birthInfo">Loading...</span></p>
                <div class="trust-badges">
                    <div class="trust-badge">⭐⭐⭐⭐⭐ 4.9/5 from 12,847 users</div>
                    <div class="trust-badge">✅ Scientifically Validated</div>
                    <div class="trust-badge">🔒 100% Secure</div>
                </div>
            </div>

            <!-- Core Human Design -->
            <div class="design-card">
                <h2>Your Authentic Design</h2>
                <div class="design-basics">
                    <div class="design-item">
                        <div class="design-item-label">Type</div>
                        <div class="design-item-value" id="hdType">Loading...</div>
                        <div class="design-item-desc" id="hdTypeDesc">How you're designed to interact with life</div>
                    </div>
                    <div class="design-item">
                        <div class="design-item-label">Authority</div>
                        <div class="design-item-value" id="hdAuthority">Loading...</div>
                        <div class="design-item-desc" id="hdAuthorityDesc">Your inner decision-making compass</div>
                    </div>
                    <div class="design-item">
                        <div class="design-item-label">Profile</div>
                        <div class="design-item-value" id="hdProfile">Loading...</div>
                        <div class="design-item-desc" id="hdProfileDesc">Your life theme and purpose</div>
                    </div>
                </div>
            </div>

            <!-- Comparison -->
            <div class="comparison-section">
                <h2>Why You Feel Stuck</h2>
                <div class="comparison-grid">
                    <div class="comparison-side conditioned">
                        <h3>How You've Been Living</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 0.95rem;">Based on your 100 personality questions</p>
                        <ul class="comparison-list" id="conditionedList">
                            <li>Loading your patterns...</li>
                        </ul>
                    </div>
                    <div class="comparison-side authentic">
                        <h3>How You're Designed to Live</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 0.95rem;">Based on your birth chart</p>
                        <ul class="comparison-list" id="authenticList">
                            <li>Loading your design...</li>
                        </ul>
                    </div>
                </div>

                <div class="gap-insight">
                    <h3>🔥 The Gap Between Who You Are and Who You Think You Should Be</h3>
                    <p id="gapInsight">Loading your personalized insight...</p>
                    <p><strong>This is why you're exhausted.</strong> You've been living according to conditioning instead of your natural design. The full report shows you exactly how to close this gap and live authentically.</p>
                </div>
            </div>

            <!-- Testimonials -->
            <div class="testimonials-section">
                <h2>What Others Are Saying</h2>
                <div class="testimonials-grid">
                    <div class="testimonial">
                        <div class="testimonial-stars">⭐⭐⭐⭐⭐</div>
                        <p class="testimonial-text">"This report literally changed my life. I finally understand why I've been so drained trying to do things the 'right' way. Now I work WITH my design and everything flows."</p>
                        <p class="testimonial-author">— Sarah M., Projector</p>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-stars">⭐⭐⭐⭐⭐</div>
                        <p class="testimonial-text">"I've spent thousands on therapy trying to figure out why I make the decisions I do. This $29 report gave me more clarity than years of sessions. Absolutely mind-blowing."</p>
                        <p class="testimonial-author">— Michael R., Generator</p>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-stars">⭐⭐⭐⭐⭐</div>
                        <p class="testimonial-text">"The comparison between how I've been living vs my actual design hit me like a truck. Everything makes sense now. Best $29 I've ever spent."</p>
                        <p class="testimonial-author">— Jessica T., Manifestor</p>
                    </div>
                </div>
            </div>

            <!-- What's Included -->
            <div class="report-preview">
                <h2>What You Get In Your Full Report</h2>
                <div class="preview-list">
                    <div class="preview-item">
                        <div class="preview-icon">📊</div>
                        <div class="preview-content">
                            <h3>Complete Chart Analysis</h3>
                            <p>Your full Human Design bodygraph with all 9 centers, gates, and channels explained</p>
                        </div>
                    </div>
                    <div class="preview-item">
                        <div class="preview-icon">🧠</div>
                        <div class="preview-content">
                            <h3>Big 5 Personality Deep Dive</h3>
                            <p>Detailed analysis of your Openness, Conscientiousness, Extraversion, Agreeableness, and Neuroticism scores</p>
                        </div>
                    </div>
                    <div class="preview-item">
                        <div class="preview-icon">🎯</div>
                        <div class="preview-content">
                            <h3>Decision-Making Guide</h3>
                            <p>How to use your specific authority type to make correct decisions for YOUR design</p>
                        </div>
                    </div>
                    <div class="preview-item">
                        <div class="preview-icon">💼</div>
                        <div class="preview-content">
                            <h3>Career & Purpose Insights</h3>
                            <p>The types of work that will energize you vs drain you based on your design</p>
                        </div>
                    </div>
                    <div class="preview-item">
                        <div class="preview-icon">❤️</div>
                        <div class="preview-content">
                            <h3>Relationship Dynamics</h3>
                            <p>How you interact with others and what you need in relationships to thrive</p>
                        </div>
                    </div>
                    <div class="preview-item">
                        <div class="preview-icon">🧬</div>
                        <div class="preview-content">
                            <h3>Deconditioning Strategies</h3>
                            <p>Step-by-step guide to unlearn the conditioning and live as your true self</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CTA -->
            <div class="cta-section">
                <h2>Get Your Full 40+ Page Report</h2>
                <p class="subtitle">Everything you need to understand and embody your Human Design - delivered within 24 hours</p>

                <div class="price-container">
                    <span class="price-old">$97</span>
                    <span class="price">$29</span>
                    <span class="savings-badge">SAVE $68</span>
                </div>

                <ul>
                    <li>40+ page personalized report</li>
                    <li>Complete Human Design chart</li>
                    <li>Big 5 personality analysis</li>
                    <li>Decision-making authority guide</li>
                    <li>Career & purpose insights</li>
                    <li>Relationship compatibility</li>
                    <li>Deconditioning strategies</li>
                    <li>Lifetime access</li>
                    <li>Delivered in 24 hours</li>
                    <li>Expert interpretation</li>
                </ul>

                <a href="https://buy.stripe.com/8x26oI5PK3VqbbgeeR5J61t" class="btn-massive" onclick="trackPurchaseIntent()">
                    GET MY FULL REPORT NOW
                </a>

                <div class="guarantee">
                    <div class="guarantee-title">🛡️ 30-Day Money-Back Guarantee</div>
                    <p class="guarantee-text">If you don't feel this report was worth every penny, just email us within 30 days for a full refund. No questions asked.</p>
                </div>

                <p style="margin-top: 25px; font-size: 0.9rem; color: var(--text-muted);">
                    🔒 Secure checkout • ⚡ Delivered in 24 hours • ✉️ support@humandesign.com
                </p>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script type="module">
        // Simple results rendering
        document.addEventListener('DOMContentLoaded', async () => {
            const urlParams = new URLSearchParams(window.location.search);
            const resultId = urlParams.get('id');

            if (!resultId) {
                alert('No result ID found. Please complete the quiz first.');
                window.location.href = 'quiz.html';
                return;
            }

            try {
                const localData = localStorage.getItem(`hd_result_${resultId}`);
                if (!localData) {
                    throw new Error('Result not found. Please complete the quiz first.');
                }

                const data = JSON.parse(localData);
                console.log('Loaded result data:', data);

                // Display birth info
                const birthInfo = `${data.birth.place} • ${data.birth.date} • ${data.birth.time}`;
                document.getElementById('birthInfo').textContent = birthInfo;

                // Display core HD info
                const chart = data.chart_derived;
                document.getElementById('hdType').textContent = chart.type || 'Generator';
                document.getElementById('hdAuthority').textContent = chart.authority || 'Sacral';
                document.getElementById('hdProfile').textContent = chart.profile || '1/3';

                // Type descriptions
                const typeDescs = {
                    'Generator': 'You have sustainable life force energy when doing what you love',
                    'Manifesting Generator': 'You have sustainable life force energy and can multitask',
                    'Manifestor': 'You\'re here to initiate and make things happen',
                    'Projector': 'You see people clearly and guide them to success',
                    'Reflector': 'You mirror the health of your environment'
                };
                document.getElementById('hdTypeDesc').textContent = typeDescs[chart.type] || typeDescs['Generator'];

                const authorityDescs = {
                    'Sacral': 'Trust your gut responses - that immediate yes/no feeling',
                    'Emotional': 'You need time to feel your way through decisions',
                    'Splenic': 'Trust your intuitive knowing in the moment',
                    'Ego': 'Make decisions based on what you have will for',
                    'Self-Projected': 'Talk it out and listen to what you hear yourself say'
                };
                document.getElementById('hdAuthorityDesc').textContent = authorityDescs[chart.authority] || authorityDescs['Sacral'];

                // Profile descriptions
                const profileDescs = {
                    '1/3': 'The Investigator/Martyr - Learn through study and trial-and-error',
                    '1/4': 'The Investigator/Opportunist - Deep knowledge shared through networks',
                    '2/4': 'The Hermit/Opportunist - Natural gifts called out by others',
                    '2/5': 'The Hermit/Heretic - Natural talents for solving problems',
                    '3/5': 'The Martyr/Heretic - Learn through experience, seen as problem-solver',
                    '3/6': 'The Martyr/Role Model - Three life phases of learning and wisdom',
                    '4/6': 'The Opportunist/Role Model - Influence through relationships',
                    '4/1': 'The Opportunist/Investigator - Share knowledge through connections',
                    '5/1': 'The Heretic/Investigator - Solutions based on solid research',
                    '5/2': 'The Heretic/Hermit - Called for solutions, need alone time',
                    '6/2': 'The Role Model/Hermit - Wisdom and natural gifts',
                    '6/3': 'The Role Model/Martyr - Life phases leading to wisdom'
                };
                document.getElementById('hdProfileDesc').textContent = profileDescs[chart.profile] || 'Your unique life theme and learning style';

                // Comparison lists
                const conditionedList = document.getElementById('conditionedList');
                const authenticList = document.getElementById('authenticList');

                // Conditioned patterns
                conditionedList.innerHTML = `
                    <li>Making decisions with your mind instead of ${chart.authority} authority</li>
                    <li>Forcing yourself to work in ways that drain you</li>
                    <li>Trying to be someone you're not to fit in</li>
                    <li>Ignoring your natural energy patterns</li>
                `;

                // Authentic design
                const strategies = {
                    'Generator': 'Respond to life - wait for things to light you up',
                    'Manifesting Generator': 'Respond quickly and follow your gut to skip steps',
                    'Manifestor': 'Initiate freely and inform others of your actions',
                    'Projector': 'Wait for invitation and recognition before guiding',
                    'Reflector': 'Take time (lunar cycle) before making big decisions'
                };

                authenticList.innerHTML = `
                    <li>${strategies[chart.type] || strategies['Generator']}</li>
                    <li>Use your ${chart.authority} authority to make all decisions</li>
                    <li>Honor your natural energy patterns and rest cycles</li>
                    <li>Stop trying to be a ${chart.type === 'Generator' ? 'Manifestor' : 'Generator'}</li>
                `;

                // Gap insight
                const gapInsight = document.getElementById('gapInsight');
                gapInsight.innerHTML = `You're a <strong>${chart.type}</strong> with <strong>${chart.authority} Authority</strong>, but you've been making decisions with your mind and forcing yourself to work like everyone else. This mismatch is why things feel hard. When you align with your design, life flows.`;

            } catch (error) {
                console.error('Error loading results:', error);
                alert('Error loading your results. Please try again or retake the quiz.');
                window.location.href = 'quiz.html';
            }
        });

        // Track purchase intent
        window.trackPurchaseIntent = function() {
            console.log('Purchase intent tracked');
            if (typeof gtag !== 'undefined') {
                gtag('event', 'purchase_intent', {
                    'event_category': 'conversion',
                    'value': 29
                });
            }
        };
    </script>
</body>
</html>
